@model IEnumerable<Petopia.Models.CareTransaction>

@{
    ViewBag.Title = "Appointments for my Pets";
    //this works!!!!!
    var today = DateTime.Now.ToString("yyyy-MM-dd");
    var todaysDate = DateTime.Now;
}

<div class="container-fluid" style="margin-bottom: 45px;">
    <!-- outer container -->

    <span style="float:right; margin-right:5px; margin-top:15px;"
          class="btn our_buttons">
        @Html.ActionLink("Book a new Pet Care Appointment!", "BookAppointment",
                                new { Controller = "CareTransactions" },
                                new { style = "color: #f2e6d9;" })
    </span>

    <span style="float:right; margin-right:5px; margin-top:15px;"
          class="btn our_buttons">
        @Html.ActionLink("Back to my Profile", "Index",
                                        new { Controller = "ProfilePage" },
                                        new { style = "color: #f2e6d9;" })
    </span>

    <h2>@ViewBag.Title:</h2>

    <!--=================== TABS! 'UPCOMING' & 'PAST' APPTS!======================-->
    <!---->
    <!-- the nav part -->
    <ul class="nav nav-tabs" style="border: none;">
        <li class="active">
            <a data-toggle="tab" href="#home" style="background-color: #392613; color: #f2e6d9;">
                your upcoming appointments
            </a>
        </li>
        <li>
            <a data-toggle="tab" href="#menu1" style="background-color: #604020; color: #f2e6d9;">
                your past appointments
            </a>
        </li>
    </ul>
    <!--------------------- THE TAB CONTENT PART! ---------------------------------->
    <!---->
    <div class="tab-content">
        <!-------------------------- 1st TAB => Upcoming Appts --------------------->
        <div id="home" class="tab-pane fade in active">

            @foreach (var item in Model)
            {
                //hey! don't need another (at) sign in here
                if (item.EndDate > todaysDate)
                {
                    <div class="container-fluid my_appt_box" style="padding: 15px;">

                        <!--============================= ROW ZERO! ==============-->
                        <div class="row" style="margin-bottom: 18px;">

                            <span style="float:left; margin-left: 25px; margin-right: 25px;">
                                <span class="our_appt_label">
                                    @Html.DisplayNameFor(model => model.PetID): &nbsp;
                                </span>
                                @Html.DisplayFor(modelItem => item.PetID)
                            </span>

                            <span style="float:left; margin-right: 25px;">
                                <span class="our_appt_label">
                                    @Html.DisplayNameFor(model => model.CareProviderID) &nbsp;
                                </span>
                                @Html.DisplayFor(modelItem => item.CareProviderID)
                            </span>

                            <span style="margin-left: 45px; font-weight: bold;">
                                here until we can pull in pet name + pet carer name!   [=
                            </span>

                        </div><!-- END ROW ZERO -->
                        <!---->
                        <!---->
                        <!--=================================== ROW ONE ==========-->
                        <div class="row our_row_one" style="margin-bottom: 18px;">
                            <!------------------------------- ROW 1 \ COL 1 -------->
                            <div class="col-sm-1 col-md-1">

                                <div style="margin-bottom: 5px;">
                                    <span class="our_appt_label">
                                        @*@Html.DisplayNameFor(model => model.StartDate)*@
                                        <b>From:</b><br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.StartDate)
                                </div>

                                <div>
                                    <span class="our_appt_label">
                                        @*@Html.DisplayNameFor(model => model.StartTime)<br />*@
                                        at:
                                    </span>
                                    @Html.DisplayFor(modelItem => item.StartTime)
                                </div>

                            </div><!-- END ROW 1 \ COL 1 -->
                            <!------------------------------------------------------>
                            <!---->
                            <!--------------------------- ROW 1 \ COL 2 ------------>
                            <div class="col-sm-1 col-md-1">

                                <div style="margin-bottom: 5px;">
                                    <span class="our_appt_label">
                                        @*@Html.DisplayNameFor(model => model.EndDate)*@
                                        <b>To:</b><br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.EndDate)
                                </div>

                                <div>
                                    <span class="our_appt_label">
                                        @*@Html.DisplayNameFor(model => model.EndTime)<br />*@
                                        at:
                                    </span>
                                    @Html.DisplayFor(modelItem => item.EndTime)
                                </div>

                            </div><!-- END ROW 1 \ COL 2 -->
                            <!---->
                            <!--------------------------- ROW 1 \ COL 3 ------------>
                            <div class="col-sm-3 col-md-3" style=" margin-left: 23px;">

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.NeededThisVisit)<br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.NeededThisVisit)
                                </div>

                            </div><!-- END ROW 1 \ COL 3 -->
                            <!------------------------------------------------------>
                            <!---->
                            <!--------------------------- ROW 1 \ COL 4 ------------>
                            <div class="col-sm-3 col-md-3" style="margin-left: 23px;">

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.CareProvided)<br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.CareProvided)
                                </div>

                            </div><!-- END ROW 1 \ COL 4 -->
                            <!------------------------------------------------------>
                            <!---->
                            <!----------------------------- ROW 1 \ COL 5 ---------->
                            <div class="col-sm-3 col-md-3" style="margin-left: 23px;">

                                <div style="margin-bottom: 13px;">
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.Charge) &nbsp; $ <br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.Charge)
                                </div>

                                <div style="margin-top: 13px;">
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.Tip) &nbsp; $ <br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.Tip)
                                </div>

                            </div><!-- END ROW 1 \ COL 5 -->
                            <!------------------------------------------------------>
                        </div><!-- END ROW 1 -->
                        <!---->
                        <!---->
                        <!--=============================== ROW TWO ==============-->
                        <div class="row our_row_two" style="margin-bottom: 18px;">

                            <!--------------------------------- ROW 2 \ COL 1 ------>
                            <div class="col-sm-3 col-md-3">

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.CareReport)<br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.CareReport)
                                </div>

                            </div><!-- END ROW 2 \ COL 1-->
                            <!------------------------------------------------------>
                            <!---->
                            <!----------------------------------- ROW 2 \ COL 2 ---->
                            <div class="col-sm-4 col-md-4" style="margin-left: 45px;">

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.PC_Rating) &nbsp;
                                    </span>
                                    @Html.DisplayFor(modelItem => item.PC_Rating)
                                </div>

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.PC_Comments)<br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.PC_Comments)
                                </div>

                            </div>
                            <!------------------------------------------------------>
                            <!---->
                            <!--------------------------- ROW 2 \ COL 3 ------------>
                            <div class="col-sm-4 col-md-4" style="margin-left: 45px;">

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.PO_Rating) &nbsp;
                                    </span>
                                    @Html.DisplayFor(modelItem => item.PO_Rating)
                                </div>

                                <div>
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.PO_Comments)<br />
                                    </span>
                                    @Html.DisplayFor(modelItem => item.PO_Comments)
                                </div>

                            </div><!-- END ROW 2 \ COL 3 -->
                            <!------------------------------------------------------>
                        </div><!-- END ROW 2 -->
                        <!---->
                        <!---->
                        <!--============================== ROW THREE =============-->
                        <div class="row our_row_three">

                            <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                @Html.ActionLink("Cancel this Appointment", "Delete",
                                                            new { id = item.TransactionID },
                                                            new { style = "color: #f2e6d9;" })
                            </span>

                            <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                @Html.ActionLink("Edit this Appointment", "EditAppointment",
                                                                new { id = item.TransactionID },
                                                                new { style = "color: #f2e6d9;" })
                            </span>

                            <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                @Html.ActionLink("Complete this Appointment", "CompleteAppointment",
                                                                new { id = item.TransactionID },
                                                                new { style = "color: #f2e6d9;" })
                            </span>

                            <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                @Html.ActionLink("This Pet's Profile", "PetProfile",
                                        new { controller = "Pets", id = item.PetID },
                                                new { style = "color: #f2e6d9;" })
                            </span>

                        </div><!-- END ROW THREE-->
                        <!--======================================================-->
                    </div><!-- END CONTAINER-FLUID + 'my_appt_box' -->
                }
            }
        </div><!-- END DIV WHERE ID==HOME --><!-- aka UPCOMING APPTS! -->
        <!---->
        <!---->
        <!--                             PAST                                     -->
        <!--======================================================================-->
        <!------------------------- 2nd TAB => Past Appts -------------------------->
        <div id="menu1" class="tab-pane fade">
            <div id="home" class="tab-pane fade in active">

                @foreach (var item in Model)
                {
                    //hey! don't need another (at) sign in here
                    if (item.EndDate < todaysDate)
                    {
                        <div class="container-fluid my_appt_box" style="padding: 15px;">

                            <!--============================= ROW ZERO! ==========-->
                            <div class="row" style="margin-bottom: 18px;">

                                <span style="float:left; margin-left: 25px; margin-right: 25px;">
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.PetID): &nbsp;
                                    </span>
                                    @Html.DisplayFor(modelItem => item.PetID)
                                </span>

                                <span style="float:left; margin-right: 25px;">
                                    <span class="our_appt_label">
                                        @Html.DisplayNameFor(model => model.CareProviderID) &nbsp;
                                    </span>
                                    @Html.DisplayFor(modelItem => item.CareProviderID)
                                </span>

                                <span style="margin-left: 45px; font-weight: bold;">
                                    here until we can pull in pet name + pet carer name!   [=
                                </span>

                            </div><!-- END ROW ZERO -->
                            <!---->
                            <!---->
                            <!--=================================== ROW ONE ======-->
                            <div class="row our_row_one" style="margin-bottom: 18px;">
                                <!------------------------------- ROW 1 \ COL 1 ---->
                                <div class="col-sm-1 col-md-1" >

                                    <div style="margin-bottom: 5px;">
                                        <span class="our_appt_label">
                                            @*@Html.DisplayNameFor(model => model.StartDate)*@
                                            From:<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.StartDate)
                                    </div>

                                    <div>
                                        <span class="our_appt_label">
                                            @*@Html.DisplayNameFor(model => model.StartTime)*@
                                            at:<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.StartTime)
                                    </div>

                                </div><!-- END ROW 1 \ COL 1 -->
                                <!-------------------------------------------------->
                                <!---->
                                <!--------------------------- ROW 1 \ COL 2 -------->
                                <div class="col-sm-1 col-md-1">

                                    <div style="margin-bottom: 5px;">
                                        <span class="our_appt_label">
                                            @*@Html.DisplayNameFor(model => model.EndDate)*@
                                            To:<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.EndDate)
                                    </div>

                                    <div>
                                        <span class="our_appt_label">
                                            @*@Html.DisplayNameFor(model => model.EndTime)*@
                                            at:<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.EndTime)
                                    </div>

                                </div><!-- END ROW 1 \ COL 2 -->
                                <!---->
                                <!--------------------------- ROW 1 \ COL 3 -------->
                                <div class="col-sm-3 col-md-3" style="margin-left: 23px;">

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.NeededThisVisit)<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.NeededThisVisit)
                                    </div>

                                </div><!-- END ROW 1 \ COL 3 -->
                                <!-------------------------------------------------->
                                <!---->
                                <!--------------------------- ROW 1 \ COL 4 -------->
                                <div class="col-sm-3 col-md-3" style="margin-left: 23px;">

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.CareProvided)<br />
                                        </span>

                                        @*@if (String.IsNullOrEmpty())
                                        {
                                            trying to test for null/empty
                                            to change background color if true!
                                        }*@
                                        @Html.DisplayFor(modelItem => item.CareProvided)
                                    </div>

                                </div><!-- END ROW 1 \ COL 4 -->
                                <!-------------------------------------------------->
                                <!---->
                                <!----------------------------- ROW 1 \ COL 5 ------>
                                <div class="col-sm-3 col-md-3" style="margin-left: 23px;">

                                    <div style="margin-bottom: 13px;">
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.Charge) &nbsp; $ <br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.Charge)
                                    </div>

                                    <div style="margin-top: 13px;">
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.Tip) &nbsp; $ <br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.Tip)
                                    </div>

                                </div><!-- END ROW 1 \ COL 5 -->
                                <!-------------------------------------------------->
                            </div><!-- END ROW 1 -->
                            <!---->
                            <!---->
                            <!--=============================== ROW TWO ==========-->
                            <div class="row our_row_two" style="margin-bottom: 18px;">

                                <!--------------------------------- ROW 2 \ COL 1 -->
                                <div class="col-sm-3 col-md-3">

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.CareReport)<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.CareReport)
                                    </div>

                                </div><!-- END ROW 2 \ COL 1-->
                                <!-------------------------------------------------->
                                <!---->
                                <!--------------------------- ROW 2 \ COL 2 -------->
                                <div class="col-sm-4 col-md-4" style="margin-left: 45px;">

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.PC_Rating) &nbsp;
                                        </span>
                                        @Html.DisplayFor(modelItem => item.PC_Rating)
                                    </div>

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.PC_Comments)<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.PC_Comments)
                                    </div>

                                </div>
                                <!-------------------------------------------------->
                                <!---->
                                <!---------------------------- ROW 2 \ COL 3 ------->
                                <div class="col-sm-4 col-md-4" style="margin-left: 45px;">

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.PO_Rating) &nbsp;
                                        </span>
                                        @Html.DisplayFor(modelItem => item.PO_Rating)
                                    </div>

                                    <div>
                                        <span class="our_appt_label">
                                            @Html.DisplayNameFor(model => model.PO_Comments)<br />
                                        </span>
                                        @Html.DisplayFor(modelItem => item.PO_Comments)
                                    </div>

                                </div><!-- END ROW 2 \ COL 3 -->
                                <!-------------------------------------------------->
                            </div><!-- END ROW 2 -->
                            <!---->
                            <!---->
                            <!--============================== ROW THREE =========-->
                            <div class="row our_row_three">

                                <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                    @Html.ActionLink("Cancel this Appointment", "Delete",
                                                                new { id = item.TransactionID },
                                                                new { style = "color: #f2e6d9;" })
                                </span>

                                <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                    @Html.ActionLink("Edit this Appointment", "EditAppointment",
                                                                    new { id = item.TransactionID },
                                                                    new { style = "color: #f2e6d9;" })
                                </span>

                                <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                    @Html.ActionLink("Complete this Appointment", "CompleteAppointment",
                                                                    new { id = item.TransactionID },
                                                                    new { style = "color: #f2e6d9;" })
                                </span>

                                <span style="float: right; margin-right: 5px;" class="btn our_buttons">
                                    @Html.ActionLink("This Pet's Profile", "PetProfile",
                                            new { controller = "Pets", id = item.PetID },
                                                    new { style = "color: #f2e6d9;" })
                                </span>

                            </div><!-- END ROW THREE-->
                            <!--==================================================-->

                        </div><!-- END CONTAINER-FLUID + 'my_appt_box' -->
                    }
                }
            </div><!-- end div where id==home -->
        </div><!-- end div where id=Menu1 -->
        <!-------------------------------------------------------------------------->
    </div><!-- END OF TAB CONTENT THING -->
    <!--======================================================================-->
    <!---->
</div><!-- END CONTAINER-FLUID (the outer one) -->
<!--==================================================================================-->
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
<!--==================================================================================-->